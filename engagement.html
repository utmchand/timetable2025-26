<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title>Engagement - рдЕрд╡рдХрд╛рд╢ рд╢рд┐рдХреНрд╖рдХ рдЪрдпрди</title>
  <style>
  * {
    box-sizing: border-box;
  }

  body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(to right, #e0f7fa, #fff);
    margin: 0;
    padding: 20px;
  }

  nav {
    background: #00796b;
    padding: 12px;
    text-align: center;
    margin-bottom: 25px;
  }

  nav a {
    margin: 0 10px;
    color: white;
    font-weight: bold;
    text-decoration: none;
    font-size: 16px;
  }

  h1, h2 {
    text-align: center;
    color: #004d40;
    margin-top: 0;
  }

  ul {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    list-style: none;
    padding: 0;
    justify-content: center;
  }

  li {
    background: #e0f2f1;
    padding: 10px;
    border-radius: 8px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.1);
  }

  .substitute-info {
    margin-top: 20px;
    padding: 15px;
    background: #f9fbe7;
    border: 1px solid #cddc39;
    border-radius: 8px;
    font-size: 16px;
    line-height: 1.5;
  }

  .highlight {
    font-weight: bold;
    color: #2e7d32;
  }

  button {
    background: #00796b;
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 6px;
    cursor: pointer;
    margin: 10px 5px;
    font-size: 15px;
  }

  button:hover {
    background: #004d40;
  }

  @media (max-width: 600px) {
    ul {
      flex-direction: column;
      align-items: stretch;
    }

    button {
      width: 100%;
    }
  }
</style>
</head>
<body>
<marquee direction="right" behavior="alternate" scrollamount="5" style="background:#003366; color:white; font-weight:bold; padding:8px; font-size:22px;">
  рд╢рд╛рд╕рдХреАрдп рдЙрдЪреНрдЪрддрд░ рдорд╛рдзреНрдпрдорд┐рдХ рд╡рд┐рджреНрдпрд╛рд▓рдп рдЧреЛрд░рдЦрдкреБрд░ , рдЬрд┐рд▓рд╛ - рдирд░рд╕рд┐рдВрд╣рдкреБрд░ (рдо.рдкреНрд░.)
</marquee>

  <nav>
    <a href="index.html">ЁЯПа рд╣реЛрдо</a>
    <a href="tt.html">ЁЯУЕ рдЯрд╛рдЗрдордЯреЗрдмрд▓</a>
    <a href="karyabhar.html">ЁЯУШ рдХрд╛рд░реНрдпрднрд╛рд░</a>
    <a href="substitutes.html">ЁЯУС рдЖрдЬ рдХреЗ рдПрдВрдЧреЗрдЬ рдЯреАрдЪрд░</a>
    <a href="classteachers.html">ЁЯСйтАНЁЯПл рдХреНрд▓рд╛рд╕ рдЯреАрдЪрд░</a>
    <a href="vocational.html">ЁЯОУ рд╡реЛрдХреЗрд╢рдирд▓ рдПрдЬреБрдХреЗрд╢рди</a>
   <a href="gallery.html">ЁЯУ╕ рдлреЛрдЯреЛ рдЧреИрд▓рд░реА</a>
 
  </nav>
  <h1>рд╢рд╛. рдЙ.рдорд╛.рд╡рд┐. рдЧреЛрд░рдЦрдкреБрд░ <br> рд╕реЛрдорд╡рд╛рд░ рд╕реЗ рд╢рдирд┐рд╡рд╛рд░ рдПрдВрдЧреЗрдЬрдореЗрдВрдЯ рд▓рдЧрд╛рдиреЗ рдХрд╛ рд╕рдордп рд╕реБрдмрд╣ 10рдГ30 рдмрдЬреЗ рд╕реЗ рд╕реБрдмрд╣ 10рдГ50 рддрдХ рд░рд╣реЗрдЧрд╛</h1>
  <h2>ЁЯСитАНЁЯПл рдЕрд╡рдХрд╛рд╢ рдкрд░ рд╢рд┐рдХреНрд╖рдХ рдЪреБрдиреЗрдВ</h2>
  <p>рдЬреЛ рд╢рд┐рдХреНрд╖рдХ рдЕрд╡рдХрд╛рд╢ рдкрд░ рд╣реИрдВ рдЙрдиреНрд╣реЗрдВ рдиреАрдЪреЗ рд╕реЗ рдЪреБрдиреЗрдВ:</p>

  <ul id="teacherList"></ul>

  <button onclick="saveLeaveTeachers()">ЁЯТ╛ рд╕реЗрд╡ рдХрд░реЗрдВ</button>
  <button onclick="clearLeave()">тЭМ рдЫреБрдЯреНрдЯреА рд╣рдЯрд╛рдПрдВ</button>
  <button onclick="downloadAssignments()">тмЗя╕П JSON рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ)</button>

  <div class="substitute-info" id="substituteInfo"></div>

  <script>
    const teachers = [
      "P.S. JHARIYA", "H.K. THAKUR", "N.R. SAHU", "RAJESH MURKHE",
      "SUNIL UIKEY", "VIKAS VERMA", "UTTAM CHAND DEHRIYA", "RINKESH THAKUR",
      "MADAN DHEEMAR", "N.P. MEHRA", "HARERAM VANSHKAR", "VINITA CHOURASIYA",
      "DHARMENDRA NEMA", "SHUBHAM CHOURASIYA", "NAGEENA MOMIN", "DEEPALI SHARMA",
      "SMITA SHARMA", "DEEPAK", "R.K. ORIYA", "BABLI CHOUDHARY"
    ];

    const teacherGender = {
      "P.S. JHARIYA": "male", "H.K. THAKUR": "male", "N.R. SAHU": "male",
      "RAJESH MURKHE": "male", "SUNIL UIKEY": "male", "VIKAS VERMA": "male",
      "UTTAM CHAND DEHRIYA": "male", "RINKESH THAKUR": "male", "MADAN DHEEMAR": "male",
      "N.P. MEHRA": "male", "HARERAM VANSHKAR": "male", "VINITA CHOURASIYA": "female",
      "DHARMENDRA NEMA": "male", "SHUBHAM CHOURASIYA": "male", "NAGEENA MOMIN": "female",
      "DEEPALI SHARMA": "female", "SMITA SHARMA": "female", "DEEPAK": "male", "R.K. ORIYA": "male", "BABLI CHOUDHARY": "female"
    };

    const periodMap = {
      "10:50-11:30": "рдкрд╣рд▓рд╛ рдкреАрд░рд┐рдпрдб 10:50-11:30",
      "11:30-12:10": "рджреВрд╕рд░рд╛ рдкреАрд░рд┐рдпрдб 11:30-12:10",
      "12:20-01:00": "рддреАрд╕рд░рд╛ рдкреАрд░рд┐рдпрдб 12:20-01:00",
      "01:00-01:40": "рдЪреМрдерд╛ рдкреАрд░рд┐рдпрдб 01:00-01:40",
      "02:10-02:50": "рдкреЙрдЪрд╡рд╛ рдкреАрд░рд┐рдпрдб 02:10-02:50",
      "02:50-03:30": "рдЫрдард╡реЙ рдкреАрд░рд┐рдпрдб 02:50-03:30",
      "03:30-04:00": "рд╕рд╛рддрд╡реЙ рдкреАрд░рд┐рдпрдб 03:30-04:00",
      "04:00-04:30": "рдЖрдард╡реЙ рдкреАрд░рд┐рдпрдб 04:00-04:30"
    };

    // Demo timetable (same format as index.html timetable object)
    const timetable = {
  "Monday": {
    "10:50-11:30": {
      "IX A": "SCIENCE - DEEPALI SHARMA",
      "IX B": "SOCIAL SCIENCE - RAJESH MURKHE",
      "X A": "SOCIAL SCIENCE - R.K. ORIYA",
      "X B": "HINDI - SUNIL UIKEY",
      "XI A": "POLITICAL SCIENCE - H.K. THAKUR",
      "XI B": "GEOGRAPHY - BABLI CHOUDHARY",
      "XI C": "MATHS - DHARMENDRA NEMA / BIO - SMITA SHARMA",
      "XII A & B": "HISTORY - MADAN DHEEMAR",
      "XII C": "CHEMISTRY - N.P. MEHRA"
    },
    "11:30-12:10": {
      "IX A": "SOCIAL SCIENCE - RAJESH MURKHE",
      "IX B": "HINDI - BABLI CHOUDHARY",
      "X A": "SCIENCE - SMITA SHARMA",
      "X B": "SOCIAL SCIENCE - H.K. THAKUR",
      "XI A & B": "AGRICULTURE - RINKESH THAKUR",
      "XI B & A,C": "ENGLISH - HARERAM VANSHKAR / ENGLISH - VIKAS VERMA",
      "XII A & B": "GEOGRAPHY - N.R. SAHU",
      "XII C": "PHYSICS - SHUBHAM CHOURASIYA"
    },
    "12:20-01:00": {
      "IX A": "HINDI - VINITA CHOURASIYA",
      "IX B": "SCIENCE - DEEPALI SHARMA",
      "X A": "HINDI - SUNIL UIKEY",
      "X B": "MATHS - DHARMENDRA NEMA",
      "XI A": "GEOGRAPHY - BABLI CHOUDHARY",
      "XI B":"HISTORY - R.K. ORIYA",
      "XI C": "CHEMISTRY - N.P. MEHRA",
      "XII A & B": "ENGLISH - VIKAS VERMA / AGRICULTURE - RINKESH THAKUR",
      "XII C": "MATHS - SHUBHAM CHOURASIYA / BIO - SMITA SHARMA"
    },
    "01:00-01:40": {
      "IX A": "MATHS - DHARMENDRA NEMA",
      "IX B": "ENGLSIH - HARERAM VANSHKAR",
      "X A & B": "IT - UTTAM CHAND DEHRIYA / AGRICULTURE - RINKESH THAKUR / SANSKRIT - VINITA CHOURASIYA",
      "XI A": "HISTORY - R.K. ORIYA",
      "XI B": "POLITICAL SCIENCE - H.K. THAKUR",
      "XI C": "PHYSICS - SHUBHAM CHOURASIYA",
      "XII A & B": "POLITICAL SCIENCE - RAJESH MURKHE",
      "XII C": "HINDI - SUNIL UIKEY"
    },
    "02:10-02:50": {
      "IX A": "ENGLISH - HARERAM VANSHKAR",
      "IX B": "MATHS - SHUBHAM CHOURASIYA",
      "X A": "ENGLISH - NAGEENA MOMIN",
      "X B": "SCIENCE - SMITA SHARMA",
      "XI A, B & C": "IT - UTTAM CHAND DEHRIYA",
      "XI B & A,C": "HINDI - VINITA CHOURASIYA / HINDI - SUNIL UIKEY",
      "XII A & B": "HINDI - P.S. JHARIYA",
      "XII C": "ENGLISH - VIKAS VERMA"
    },
    "02:50-03:30": {
      "IX A & B": "IT - UTTAM CHAND DEHRIYA / AGRICULTURE - RINKESH THAKUR / SANSKRIT - VINITA CHOURASIYA",
      "X A": "MATHS - DHARMENDRA NEMA",
      "X B": "ENGLSIH - NAGEENA MOMIN",
      "XI A": "HISTORY - R.K. ORIYA",
      "XI B": "POLITICAL SCIENCE - H.K. THAKUR",
      "XI C": "BIOLOGY PRACTICAL - SMITA SHARMA",
      "XII A & B": "ENGLISH - VIKAS VERMA",
      "XII C": "CHEMISTRY PRACTICAL - N.P. MEHRA"
    },
    "03:30-04:00": {
      "IX A": "ENGLISH - HARERAM VANSHKAR",
      "IX B": "SCIENCE PRACTICAL - DEEPALI SHARMA",
      "X A": "SCIENCE PRACTICAL - SMITA SHARMA",
      "X B": "ENGLISH - NAGEENA MOMIN",
      "XI A": "GEOGRAPHY PRACTICAL - BABLI CHOUDHARY",
      "XI B": "HINDI - SUNIL UIKEY",
      "XI C": "BIO PRACTICAL - SMITA SHARMA",
      "XII A & B": "HISTORY - MADAN DHEEMAR",
      "XII C": "CHEMISTRY - N.P. MEHRA"
    },
    "04:00-04:30": {
      "IX A": "GAMES - SUNIL UIKEY",
      "IX B": "GAMES - SUNIL UIKEY",
      "X A": "GAMES - SUNIL UIKEY",
      "X B": "GAMES - SUNIL UIKEY",
      "XI A": "GAMES - SUNIL UIKEY",
      "XI B": "GAMES - SUNIL UIKEY",
      "XI C": "GAMES - SUNIL UIKEY",
      "XII A": "GAMES - SUNIL UIKEY",
      "XII B": "GAMES - SUNIL UIKEY",
      "XII C": "GAMES - SUNIL UIKEY"
    },
    
  },
  
  
};

    // рдкреЗрдЬ рд▓реЛрдб
    window.onload = function () {
      const ul = document.getElementById('teacherList');
      teachers.forEach(t => {
        const li = document.createElement('li');
        li.innerHTML = `<label><input type="checkbox" value="${t}"> ${t}</label>`;
        ul.appendChild(li);
      });

      const saved = JSON.parse(localStorage.getItem("leaveTeachers")) || [];
      saved.forEach(name => {
        const box = [...document.querySelectorAll('input[type="checkbox"]')].find(cb => cb.value === name);
        if (box) box.checked = true;
      });

      showSubstituteMessage();
    };

    function saveLeaveTeachers() {
      const leaveTeachers = [...document.querySelectorAll('input[type="checkbox"]:checked')].map(cb => cb.value);
      localStorage.setItem("leaveTeachers", JSON.stringify(leaveTeachers));
      showSubstituteMessage();
      document.getElementById('substituteInfo').innerHTML += `<br><br><a href="substitutes.html" target="_blank">ЁЯУД рд╕рдмреНрд╕реНрдЯреАрдЯреНрдпреВрдЯ рдбреНрдпреВрдЯреА рджреЗрдЦреЗрдВ</a>`;
    }

    function clearLeave() {
      localStorage.removeItem("leaveTeachers");
      localStorage.removeItem("substituteAssignments");
      location.reload();
    }

    function showSubstituteMessage() {
  const infoDiv = document.getElementById("substituteInfo");
  const leaveTeachers = JSON.parse(localStorage.getItem("leaveTeachers")) || [];
  const existingAssignments = JSON.parse(localStorage.getItem("substituteAssignments")) || {};
  const engagedByTime = {};
  let messages = [];

  for (let day in timetable) {
    for (let time in timetable[day]) {
      const key = `${day}-${time}`;
      engagedByTime[key] = new Set();

      const periodData = timetable[day][time];
      for (let cls in periodData) {
        const parts = periodData[cls].split(/[/|\\]|\/\/|,|&|рдФрд░| рддрдерд╛ /);
        parts.forEach(part => {
          const teacher = part.split(" - ")[1]?.trim().toUpperCase();
          if (teacher && teachers.includes(teacher)) {
            engagedByTime[key].add(teacher);
          }
        });
      }
    }
  }

  leaveTeachers.forEach(leaveTeacher => {
    const assignedMessages = [];
    const uniqueKeys = new Set();

    for (let day in timetable) {
      for (let time in timetable[day]) {
        const periodData = timetable[day][time];

        for (let cls in periodData) {
          const parts = periodData[cls].split(/[/|\\]|\/\/|,|&|рдФрд░| рддрдерд╛ /);
          parts.forEach(part => {
            const teacher = part.split(" - ")[1]?.trim().toUpperCase();
            if (teacher === leaveTeacher.toUpperCase()) {
              const key = `${day}-${time}-${teacher}`;
              if (uniqueKeys.has(key)) return;
              uniqueKeys.add(key);

              const timeKey = `${day}-${time}`;
              const engagedSet = engagedByTime[timeKey];
              const substituteKey = `${leaveTeacher}-${day}-${time}`;

              let substitute = existingAssignments[substituteKey];

              if (!substitute) {
                const vacant = teachers.filter(t =>
                  t !== "UTTAM CHAND DEHRIYA" &&
                  t !== "P.S. JHARIYA" && // рдмреНрд▓реЙрдХ
                  !leaveTeachers.includes(t) &&
                  !engagedSet.has(t)
                );
                if (vacant.length === 0) {
                  assignedMessages.push(
                    `рдЖрдЬ <span class="highlight">${leaveTeacher}</span> рдЫреБрдЯреНрдЯреА рдкрд░ рд╣реИрдВ, 
                    рд▓реЗрдХрд┐рди ${periodMap[time] || time} рддрдХ рдХрдХреНрд╖рд╛ <span class="highlight">${cls}</span> рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдЙрдкрд▓рдмреНрдз рд╢рд┐рдХреНрд╖рдХ рдирд╣реАрдВ рд╣реИред`
                  );
                  return;
                } else {
                  substitute = vacant[Math.floor(Math.random() * vacant.length)];
                  existingAssignments[substituteKey] = substitute;
                }
              }

              const gender = teacherGender[substitute] === "female" ? "рдкрдврд╝рд╛рдпреЗрдВрдЧреА" : "рдкрдврд╝рд╛рдПрдВрдЧреЗ";
              const hindiPeriod = periodMap[time] || time;

              assignedMessages.push(
                `рдЖрдЬ <span class="highlight">${leaveTeacher}</span> рдЫреБрдЯреНрдЯреА рдкрд░ рд╣реИрдВ, 
                 рдЙрдирдХреА рдЬрдЧрд╣ <span class="highlight">${substitute}</span> 
                 ${hindiPeriod} рдмрдЬреЗ рддрдХ рдХрдХреНрд╖рд╛ <span class="highlight">${cls}</span> рдХреЛ ${gender}ред`
              );

              engagedSet.add(substitute);
            }
          });
        }
      }
    }

    if (assignedMessages.length === 0) {
      messages.push(`рдЖрдЬ <span class="highlight">${leaveTeacher}</span> рдХрд╛ рдХреЛрдИ рдкреАрд░рд┐рдпрдб рдирд╣реАрдВ рд╣реИред`);
    } else {
      messages.push(...assignedMessages);
    }
  });

  localStorage.setItem("substituteAssignments", JSON.stringify(existingAssignments));
  infoDiv.innerHTML = messages.length ? messages.join("<br><br>") : "рдХреЛрдИ рднреА рд╢рд┐рдХреНрд╖рдХ рдЕрд╡рдХрд╛рд╢ рдкрд░ рдирд╣реАрдВ рд╣реИред";
}

  function downloadAssignments() {
  const assignments = JSON.parse(localStorage.getItem("substituteAssignments")) || {};
  const blob = new Blob([JSON.stringify(assignments, null, 2)], { type: "application/json" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "assignments.json";
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}

  </script>



<script>
  // Right-click disable
  document.addEventListener('contextmenu', e => e.preventDefault());

  // Text selection disable
  document.addEventListener('selectstart', e => e.preventDefault());

  // Keyboard shortcut block (Ctrl+U, Ctrl+C, Ctrl+S, Ctrl+A)
  document.addEventListener('keydown', function (e) {
    if (e.ctrlKey && ['u', 'c', 's', 'a'].includes(e.key.toLowerCase())) {
      e.preventDefault();
    }
  });

  // F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+Shift+C disable
  document.onkeydown = function (e) {
    if (e.keyCode === 123 || 
        (e.ctrlKey && e.shiftKey && ['I', 'J', 'C'].includes(e.key.toUpperCase()))) {
      return false;
    }
  };
</script>

<footer style="background:linear-gradient(to right, #2c3e50, #34495e); color:white; text-align:center; padding:30px; margin-top:30px; border-top:5px solid #16a085;">
  <div style="font-size: 18px; color: #388e3c; font-weight: bold;"> *{U.C.D.}*</div>
      <img src="Photos/UTM.jpg" alt="Technical Support" 
       style="width:80px; height:80px; border-radius:15px; box-shadow:0px 0px 15px rgba(0,0,0,0.5); transition:0.3s;"
       onmouseover="this.style.transform='rotate(5deg) scale(1.05)';"
       onmouseout="this.style.transform='scale(1)';"> <br>
       ┬й 2025 рд╢рд╛рд╕рдХреАрдп рдЙ.рдорд╛.рд╡рд┐. рдЧреЛрд░рдЦрдкреБрд░, рдЬрд┐рд▓рд╛ - рдирд░рд╕рд┐рдВрд╣рдкреБрд░ (рдо.рдкреНрд░.) | DEVELOPED & MAINTAINED BY UTTAM CHAND DEHRIYA (VOCATIONAL TRAINER - I.T.)
</footer>

</body>
</html>